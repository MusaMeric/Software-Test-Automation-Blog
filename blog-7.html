<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="Keywords"
      content="Postman, JMeter, Yazılım Test, Yazılım Test Otomasyonu, Postman Backend Otomasyonu, Backend API Otomasyonu, JMeter Performans Testi, JMeter Yük Testi, Assertion, Jmeter Config Element"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link rel="icon" href="img/icon2.png" type="image/ico" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <title>Yazılım Test Otomasyonu</title>
  </head>

  <body>
    <!-- Scroll To Top Button -->
    <button onclick="scrollToTop()" id="scrollToTop" title="Yukarı çık">
      Yukarı Çık
    </button>
    <!-- /Scroll To Top Button -->

    <!-- Off-Canvas Menu -->
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
        >&times;</a
      >
      <a href="hakkımızda.html">Hakkımızda</a>
      <a href="#bizekatil">Bize Katıl</a>
      <a href="#iletisim">İletişim</a>
    </div>
    <!-- /Off-Canvas Menu -->
    <!-- Header -->
    <header id="header">
      <!-- Nav -->
      <div id="nav">
        <div class="container">
          <!-- Logo -->
          <div class="nav-logo">
            <a href="index.html">
              <img
                src="img/icon2.png"
                alt="Anasayfaya git"
                width="50"
                height="50"
              />
            </a>
          </div>
          <!-- /Logo -->
          <!-- Nav-Menu -->
          <div class="nav-menu">
            <a href="index.html" class="nav-items">Anasayfa</a>
            <a href="softwaretesting.html" class="nav-items nav-res"
              >Yazılım Testi</a
            >
            <a href="postman.html" class="nav-items active">Postman</a>
            <a href="jmeter.html" class="nav-items nav-res">JMeter</a>
            <div class="dropdown">
              <button onclick="clickableDropdown()" class="dropbtn nav-items">
                Daha Fazlası <i class="fa fa-caret-down"></i>
              </button>
              <div id="clickable-content" class="dropdown-content">
                <a href="jmeter.html">JMeter</a>
                <a href="postman.html">Postman</a>
                <a href="softwaretesting.html">Yazılım Testi</a>
              </div>
            </div>
          </div>
          <!-- /Nav-Menu -->

          <!-- Off-Canvas Menu -->
          <div class="nav-btns">
            <button class="aside-btn" onclick="openNav()">
              <i class="fa fa-bars" style="color: #19c6ca;"></i>
            </button>
          </div>
          <!-- Off-Canvas Menu -->
        </div>
      </div>
      <!-- /Nav-->
    </header>
    <!-- /Header -->

    <!-- section -->
    <div class="section">
      <div class="container-blog">
        <h2>Postman ile Backend API Otomasyonunda Kod Mimarisi</h2>
        <p>Herkese merhaba,</p>
        <p>
          Serinin üçüncü yazısında sizlerle Postman ile backend API
          otomasyonunda kod mimari yapısı hakkında bilgiler vereceğim. Burada
          kod mimarisi, pre request script, test script, scriptlerin
          yürütülmesi, farklı response tiplerinin nasıl parse edildiği, dallanma
          ve döngü yapılarının temel yapıtaşlarından bahsederek küçük kod
          örnekleri göreceğiz. Keyifli bir yazı olması dileğiyle…
        </p>
        <p>Hadi başlayalım!</p>
        <br />
        <h3>1. Script</h3>
        <p>
          Postman, request ve collection’lara dinamik davranışlar eklemenizi
          sağlayan Node.js tabanlı güçlü bir çalışma ortamı sunmaktadır.
          Postman, test paketleri yazmanıza, dinamik parametreler içeren
          istekler oluşturmanıza, istekler arasında veri iletmenize ve daha pek
          çok şeye izin verir. Postman’da scriptler
          <strong>pre-request script</strong> ve <strong>tests</strong> alanına
          yazılmaktadır. Kodlar Javascript benzeri bir dille yazılır. Yazılan
          script’lerin içeriğine gelmeden önce burdaki akışı bilmeli ve
          kodlarımızı bu doğrultuda yazmalıyız.
        </p>
        <p>
          <strong>1. Pre request script:</strong> Bir request (istek), sunucuya
          gönderilmeden önce çalıştırılan kod parçalarından oluşur.
        </p>
        <p>
          <strong>2. Tests:</strong> Bir request sunucuya gönderildikten ve
          response alındıktan sonra çalıştırılan kod parçalarından oluşur.
        </p>
        <p>
          Pre request script ve tests, bir collection’a, folder’a ve request’e
          ait olabilir ve bu kod parçaları yürütülebilir.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-1.png"
          alt=""
        />
        <br /><br />
        <h3>2. Script’lerin Yürütülme Sırası</h3>
        <p>
          Postman’de tek bir request için komut dosyalarının yürütme sırası
          aşağıdaki gibidir.
        </p>
        <ol>
          <li>
            Request ile ilişkilendirilmiş olan pre request script yürütülür.
          </li>
          <li>Request gönderilir.</li>
          <li>Response döner.</li>
          <li>Request ile ilişkilendirilmiş olan tests script yürütülür.</li>
        </ol>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-2.png"
          alt=""
        />
        <br /><br />
        <p>
          Postman’da collection içerisindeki her request için komut dosyalarının
          yürütme sırası aşağıdaki gibidir.
        </p>
        <ol>
          <li>
            Collection ile ilişkilendirilmiş olan pre request script,
            collection’daki her request’ten önce yürütülür.
          </li>
          <li>
            Klasör ile ilişkilendirilmiş olan pre request script, klasördeki her
            request’ten önce yürütülür.
          </li>
          <li>
            Request ile ilişkilendirilmiş olan pre request script yürütülür.
          </li>
          <li>Request gönderilir.</li>
          <li>Response döner.</li>
          <li>
            Collection ile ilişkilendirilmiş olan tests script, collection’daki
            her request’ten sonra yürütülür.
          </li>
          <li>
            Klasör ile ilişkilendirilmiş olan tests script, klasördeki her
            request’ten sonra yürütülür.
          </li>
          <li>Request ile ilişkilendirilmiş olan tests script yürütülür.</li>
        </ol>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-3.png"
          alt=""
        />
        <br /><br />
        <p>
          Collection’daki her request için, komut dosyaları her zaman yukarıdaki
          sıralamaya göre çalışır. Bu durumu console ekranından da
          görebilirsiniz.
        </p>
        <ol>
          <li>
            Bir collection oluşturun. Collection altına bir folder oluşturun ve
            onun altına da bir request oluşturun.
          </li>
          <li>
            Her biri için pre request scripts ve test alanlarına aşağıdaki
            komutları yazınız.
          </li>
          <br />
          <img
            src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-4.JPG"
            alt=""
          />
          <br /><br />
          <img
            src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-5.png"
            alt=""
          />
          <br /><br />
          <li>
            Status bar alanında bulunan “Postman Console” butonuna tıklayınız.
            (Ctrl + Alt + C)
          </li>
          <li>
            Header bar alanında bulunan “Runner” butonuna basınız. Açılan
            pencerede oluşturduğunuz collection’ı seçerek “Start Run” butonuna
            basınız.
          </li>
          <li>
            Console ekranını gözlemlediğinizde aşağıdaki gibi görülecektir.
          </li>
        </ol>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-6.png"
          alt=""
        />
        <br /><br />
        <p>
          <strong
            >Scriptlerin çalışma akışı Postman’de otomasyon yazabilmek için en
            önemli bilgidir.</strong
          >
          Bu yüzden üzerinde biraz fazla durarak bu örneği yapma ihtiyacı
          duydum. Çalışma akışı düzgün bilindiğinde tasarlanan işi yapmak ve kod
          yazmak oldukça kolay olacaktır.
        </p>
        <p>
          Peki pre request script ve tests alanlarına yazdığımız kodlar nasıl
          çalıştı? Bu sorunun cevabı; Postman Sandbox. Postman Sandbox,
          requestler için pre request ve test script’leri yazarken
          kullanabileceğimiz bir JavaScript yürütme ortamıdır. (Hem Postman hem
          de Newman için.) Bu alanlara yazılan kodlar bu sanal ortamda
          çalıştırılır.
        </p>
        <p>
          Bu alanlara yazılan scriptleri debug etmenin en kolay yolu da Postman
          konsolunu kullanmaktır.
          <strong
            >Aslında yukarıdaki örnekle Postman ile kod yazarken collection,
            folder ve requestler için pre-request ve test script alanlarını
            nasıl organize etmemiz gerektiğini ve debug işleminin Postman konsol
            üzerinden gerçekleştirildiğini öğrenmiş olduk.</strong
          >
        </p>
        <br />
        <h3>3. Pre Request Scripts</h3>
        <p>
          Pre request script, request gönderilmeden önce yürütülen kod
          parçalarıdır. Burada yazan kod parçaları request body, headers veya
          URL parametrelerine rastgele değerler göndermek için mükemmel bir
          kullanım sunmaktadır. Örneğin; request body alanında bulunan “name”
          parametresine rastgele isimler yazan bir dizi environment variable’a
          (ortam değişkeni) set edilebilir.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-7.png"
          alt=""
        />
        <br /><br />
        <p>
          Bir başka örnekte request headers alanına bir timestamp (zaman
          damgası) eklemek için, bir fonksiyondan döndürülen değer ortam
          değişkenine setlenebilir. Setlenen değer headers alanına köşeli
          parantezler içerisinde eklenir.
          <strong>Örn; {{timeStampHeader}}</strong>
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-8.png"
          alt=""
        />
        <br /><br />
        <p>
          Ayrıca collection veya folder’a da pre request script
          ekleyebilirsiniz.
        </p>
        <br />
        <h3>4. Test Scripts</h3>
        <p>
          Postman ile JavaScript dilini kullanarak her request (istek) için
          testler yazabilir ve çalıştırabilirsiniz. Postman test 3 bölümden
          oluşmaktadır. Bunlar; test description, test script ve test result
          alanlarıdır.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-9.png"
          alt=""
        />
        <br /><br />
        <p>
          Test, request sunucuya gönderildikten ve response döndükten sonra
          yürütülen bir JavaScript kodudur. <strong>pm.response</strong> ile
          nesneye erişilerek parametreler test edilebilir.
        </p>
        <p>
          Aşağıdaki örnekte görüldüğü gibi pm.response.json() bir değişkene
          atılmış ve bu değişken üzerinden response’da yer alan parametrelere
          ulaşılmış ve test edilmiştir.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-10.png"
          alt=""
        />
        <br /><br />
        <p>
          Genel olarak response tipi olarak JSON dönmektedir. Fakat JSON dışında
          dönen başka response tiplerini de parse etmek isteyebiliriz. Aşağıdaki
          görsel Postman’de farklı response tiplerini nasıl parse
          edebileceğimizi göstermektedir.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-11.png"
          alt=""
        />
        <br /><br />
        <p>
          Aşağıda bazı test örnekleri paylaşıyorum. Daha ayrıntılı testler için
          Postman’in kendi sitesini takip edebilirsiniz.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-12.JPG"
          alt=""
        />
        <br /><br />
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-13.JPG"
          alt=""
        />
        <br /><br />
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-14.JPG"
          alt=""
        />
        <br /><br />
        <p>
          Test editörünün yanında bulunan <strong>“Snippets”</strong> yardımıyla
          sık kullanılan kod parçalarını hızlıca testinize ekleyebilirsiniz. Bu,
          hızlı bir şekilde test senaryoları oluşturmak için harika bir yoldur.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-15.png"
          alt=""
        />
        <br /><br />
        <p>
          Hazırladığınız test script hazır olduğunda
          <strong>“Send”</strong> butonuna basarak request’i gönderebilir ve
          test sonuçlarını aşağıdaki gibi inceleyebilirsiniz. Kaç tane testin
          geçtiğini (pass) kaç tane testin kaldığını (fail)
          gözlemleyebilirsiniz.
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-16.jpeg"
          alt=""
        />
        <br /><br />
        <p>
          Ayrıca collection veya folder’a da pre request script
          ekleyebilirsiniz.
        </p>
        <p>
          Postman’de dallanma ve döngüleri oluşturmakta çok kolaydır. Bir
          collection çalıştırırken,
          <strong>postman.setNextRequest(“request_name”);</strong>
          işlevini kullanarak Postman’da API istekleri arasında dallanma ve
          döngüler oluşturabilirsiniz .
        </p>
        <img
          src="img/Postman ile Backend API Otomasyonunda Kod Mimarisi/img-17.jpeg"
          alt=""
        />
        <br /><br />
        <p>
          Yürütülen akışı sonlandırmak isterseniz;
          <strong>postman.setNextRequest(null);</strong> işlevini kullanarak
          akışı sonlandırabilirsiniz.
        </p>
        <p>
          Bir sonraki yazımızda Postman’de environment ve globals ortamları ve
          değişken yapıları üzerinde duracağız.
        </p>
        <p>Herkese keyifli ve sağlıklı haftalar :)</p>
        <br /><br />
        <div class="author">
          <p>Ozan ESER</p>
        </div>
        <div class="post-meta">
          <a href="blog-7.html" class="post-category cat-2">Postman</a>
          <span class="post-date" style="color: black;">30 Mart, 2020</span>
        </div>
        <br /><br />
        <div class="direction-buttons">
          <a href="blog-6.html" class="previous">&#8617; Önceki</a>
          <a href="blog-8.html" class="next">Sonraki &#8618;</a>
        </div>
        <div class="recommended-posts">
          <div class="recomended-posts-header">
            <h3>Benzer Yazılar</h3>
          </div>
          <div class="recommended-posts-body">
            <div class="col-6 col-m-12 col-s-12">
              <div class="recommended-post">
                <a href="blog-8.html" class="recommended-post-img">
                  <img
                    src="img/Postman ile Backend API Otomasyonunda Dinamik Değişkenler/img-1.png"
                    alt=""
                  />
                </a>
                <div class="recommended-post-body">
                  <div class="post-meta">
                    <a href="blog-8.html" class="post-category cat-2"
                      >Postman</a
                    >
                  </div>
                  <h3 class="post-title">
                    <a href="blog-8.html"
                      >Postman ile Backend API Otomasyonunda Dinamik Değişkenler
                    </a>
                  </h3>
                </div>
              </div>
            </div>
            <div class="col-6 col-m-12 col-s-12">
              <div class="recommended-post">
                <a href="blog-9.html" class="recommended-post-img">
                  <img
                    src="img/postman workflow/img-1.png"
                    alt=""
                  />
                </a>
                <div class="recommended-post-body">
                  <div class="post-meta">
                    <a href="blog-9.html" class="post-category cat-2"
                      >Postman</a
                    >
                  </div>
                  <h3 class="post-title">
                    <a href="blog-9.html"
                      >Postman ile Backend API Otomasyonunda İş Akışları
                      (Workflows)
                    </a>
                  </h3>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br />
      </div>
    </div>
    <!-- /section -->

    <!-- Footer -->
    <!-- Site footer -->
    <footer class="site-footer">
      <div class="container">
        <div class="first-row">
          <div class="col-6 col-s-12 col-m-6">
            <h6>Hakkımızda</h6>
            <p>
              YazilimTestOtomasyonu.com
              <strong>Yazılım Test Yaklaşımları ve Otomasyonu </strong>hakkında
              bilinmesi gerekenlerin doğru adresi.
            </p>
          </div>

          <div class="col-3 col-s-12 col-m-3">
            <h6>Kategoriler</h6>
            <ul class="footer-links">
              <li><a href="softwaretesting.html">Yazılım Testi</a></li>
              <li><a href="jmeter.html">Jmeter</a></li>
              <li><a href="postman.html">Postman</a></li>
              <li><a href="#">Cucumber</a></li>
              <li><a href="#">SOAP UI</a></li>
            </ul>
          </div>

          <div class="col-3 col-s-12 col-m-3">
            <h6>Hızlı Erişimler</h6>
            <ul class="footer-links">
              <li><a href="#">Yazarlarımız</a></li>
              <li><a href="contactus.html">Bize Ulaşın</a></li>
              <li><a href="#">Kaynaklar</a></li>
            </ul>
          </div>
        </div>
        <hr />
        <div class="second-row">
          <div class="col-m-8 col-s-6 col-8">
            <p class="copyright-text">
              Copyright &copy; 2020 All Rights Reserved by
              YazilimTestOtomasyonu.com
            </p>
          </div>

          <div class="col-m-4 col-s-6 col-4">
            <ul class="social-icons">
              <li>
                <a class="facebook" href="#"><i class="fa fa-facebook"></i></a>
              </li>
              <li>
                <a class="twitter" href="#"><i class="fa fa-twitter"></i></a>
              </li>
              <li>
                <a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a>
              </li>
              <li>
                <a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- /Footer -->

    <script src="js/main.js"></script>
  </body>
</html>
